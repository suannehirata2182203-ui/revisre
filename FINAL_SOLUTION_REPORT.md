# üîß –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï: –ü–û–õ–ù–´–ô –ü–ï–†–ï–•–í–ê–¢ CHECKOUT

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê
Shopify –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π checkout –¥–æ–º–µ–Ω (`checkout.shopify.com`), –∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. JavaScript injection –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–º –¥–æ–º–µ–Ω–µ
2. Checkout –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω–µ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–∫—Å–∏
3. –†–µ–¥–∏—Ä–µ–∫—Ç—ã –Ω–∞ checkout.shopify.com –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª–∏—Å—å

## üîç –ì–õ–£–ë–û–ö–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### –ê–Ω–∞–ª–∏–∑ Network –ª–æ–≥–æ–≤:
```
/cdn/shopifycloud/checkout-web/assets/...
```

–≠—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ:
- Shopify –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π checkout –¥–æ–º–µ–Ω
- Checkout –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å `checkout.shopify.com` –∏–ª–∏ —á–µ—Ä–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç
- –ù–∞—à –∫–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–º –¥–æ–º–µ–Ω–µ –∏–∑-–∑–∞ CORS

## ‚úÖ –ö–û–ú–ü–õ–ï–ö–°–ù–û–ï –†–ï–®–ï–ù–ò–ï

### –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç:

#### 1. –ü–µ—Ä–µ—Ö–≤–∞—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```javascript
if (modifiedHeaders['location']) {
  const location = modifiedHeaders['location'];
  if (location.includes('checkout.shopify.com') || location.includes('/checkout')) {
    modifiedHeaders['location'] = '/thank-you-payment';
  }
}
```
- –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã (301, 302)
- –ó–∞–º–µ–Ω—è–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –Ω–∞ checkout.shopify.com –Ω–∞ –Ω–∞—à —Ä–µ–¥–∏—Ä–µ–∫—Ç

#### 2. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è HTML —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```javascript
// –ó–∞–º–µ–Ω—è–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ checkout.shopify.com –≤ HTML
modifiedBodyString = modifiedBodyString.replace(/https?:\/\/[^"'\s<>]*checkout\.shopify\.com[^"'\s<>]*/gi, '/thank-you-payment');
// –ó–∞–º–µ–Ω—è–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ checkout
modifiedBodyString = modifiedBodyString.replace(/(href|action|data-url)=["']([^"']*\/checkout[^"']*)["']/gi, '$1="/thank-you-payment"');
```
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º HTML –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∫–ª–∏–µ–Ω—Ç—É
- –ó–∞–º–µ–Ω—è–µ–º –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ checkout –Ω–∞ –Ω–∞—à —Ä–µ–¥–∏—Ä–µ–∫—Ç
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è href, action, data-url –∞—Ç—Ä–∏–±—É—Ç–æ–≤

#### 3. –ü–µ—Ä–µ—Ö–≤–∞—Ç window.location –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
```javascript
Object.defineProperty(window, 'location', {
  set: function(url) {
    if (url.includes('checkout') || url.includes('payment')) {
      showThankYouPage();
      return;
    }
    originalLocation.href = url;
  }
});
```
- –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã —á–µ—Ä–µ–∑ window.location
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Å–ø–æ—Å–æ–±–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–∏—è location

#### 4. –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç –∫–ª–∏–∫–æ–≤
```javascript
// –ü–æ–¥–Ω–∏–º–∞–µ–º—Å—è –ø–æ DOM –¥–µ—Ä–µ–≤—É, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Å—Å—ã–ª–∫—É –∏–ª–∏ –∫–Ω–æ–ø–∫—É
while (target && target !== document.body) {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º href, onclick, data-url, data-checkout-url
  if (isCheckoutLink || isPaymentButton) {
    e.preventDefault();
    showThankYouPage();
    return false;
  }
  target = target.parentElement;
}
```
- –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Å—å –ø—É—Ç—å –æ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–æ body
- –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã (href, onclick, data-url, etc.)
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

#### 5. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ –≤ DOM
```javascript
function modifyCheckoutLinks() {
  const links = document.querySelectorAll('a[href*="checkout"], a[href*="payment"], button[data-url*="checkout"]');
  links.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      showThankYouPage();
    }, true);
  });
}
// MutationObserver –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
const observer = new MutationObserver(modifyCheckoutLinks);
observer.observe(document.body, { childList: true, subtree: true });
```
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º —Å—Å—ã–ª–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ–º MutationObserver –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º —Å—Å—ã–ª–∫–∏, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ JavaScript

#### 6. –ü–µ—Ä–µ—Ö–≤–∞—Ç AJAX/Fetch —Å checkout.shopify.com
```javascript
const isPaymentRequest = (url.includes('/checkout') || 
                          url.includes('checkout.shopify.com') ||
                          url.includes('/checkouts/')) && !isCartOperation;

if (isPaymentRequest) {
  // –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏–º, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å
  setTimeout(function() {
    showThankYouPage();
  }, 10);
  return; // –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å
}
```
- –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã –∫ checkout.shopify.com
- –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å, —Å—Ä–∞–∑—É —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏–º
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è XMLHttpRequest –∏ Fetch API

## üéØ –ü–û–ß–ï–ú–£ –≠–¢–û –î–û–õ–ñ–ù–û –†–ê–ë–û–¢–ê–¢–¨

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã:

1. **–°–µ—Ä–≤–µ—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å:**
   - ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
   - ‚úÖ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è HTML —Å—Å—ã–ª–æ–∫
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –î–û —Ç–æ–≥–æ, –∫–∞–∫ –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä

2. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å (–¥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞):**
   - ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç window.location
   - ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç –∫–ª–∏–∫–æ–≤ –Ω–∞ –∫–Ω–æ–ø–∫–∏/—Å—Å—ã–ª–∫–∏
   - ‚úÖ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ –≤ DOM
   - ‚úÖ MutationObserver –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

3. **–£—Ä–æ–≤–µ–Ω—å AJAX/Fetch:**
   - ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç XMLHttpRequest –∫ checkout
   - ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç Fetch API –∫ checkout
   - ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ checkout.shopify.com

### –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–ø–æ—Å–æ–±–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞:

- –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É ‚Üí –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–ª–∏–∫–æ–º
- –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç ‚Üí –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è window.location
- AJAX –∑–∞–ø—Ä–æ—Å ‚Üí –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è XHR/Fetch
- HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç ‚Üí –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –°—Å—ã–ª–∫–∞ –≤ HTML ‚Üí –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∫–ª–∏–µ–Ω—Ç–µ

## üîÑ –ü–û–ß–ï–ú–£ –ü–†–ï–î–´–î–£–©–ò–ï –†–ï–®–ï–ù–ò–Ø –ù–ï –†–ê–ë–û–¢–ê–õ–ò

### –†–µ—à–µ–Ω–∏–µ 1: –ü–µ—Ä–µ—Ö–≤–∞—Ç POST –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ Shopify –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã, –∞ –Ω–µ POST

### –†–µ—à–µ–Ω–∏–µ 2: JavaScript injection –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Å—ã–ª–æ–∫
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ —Å—Å—ã–ª–∫–∏ –Ω–∞ checkout.shopify.com –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è

### –†–µ—à–µ–Ω–∏–µ 3: –ü–µ—Ä–µ—Ö–≤–∞—Ç —Ç–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –µ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã —á–µ—Ä–µ–∑ window.location

### –†–µ—à–µ–Ω–∏–µ 4: –ü–µ—Ä–µ—Ö–≤–∞—Ç —Ç–æ–ª—å–∫–æ AJAX
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –Ω–∞ checkout.shopify.com –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ HTTP, –∞ –Ω–µ AJAX

### –†–µ—à–µ–Ω–∏–µ 5: –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–¢–ï–ö–£–©–ò–ô)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å–ø–æ—Å–æ–±—ã –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ checkout
- ‚úÖ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç HTML –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã

## üìä –°–†–ê–í–ù–ï–ù–ò–ï –ü–û–î–•–û–î–û–í

| –°–ø–æ—Å–æ–± –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ checkout | –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ—à–µ–Ω–∏—è | –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ |
|---------------------------|-------------------|-----------------|
| –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç (301/302) | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–ª–æ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| window.location = url | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–ª–æ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| AJAX –∫ checkout | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| Fetch –∫ checkout | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –°—Å—ã–ª–∫–∞ –≤ HTML | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–ª–æ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–ª–æ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

## üìù –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã:

1. **–°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç HTML:**
   - –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ checkout
   - –ó–∞–º–µ–Ω—è–µ—Ç checkout.shopify.com –Ω–∞ /thank-you-payment
   - –í–Ω–µ–¥—Ä—è–µ—Ç JavaScript –∫–æ–¥

2. **–ë—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É:**
   - JavaScript –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç window.location
   - JavaScript –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–∫–æ–≤
   - MutationObserver —Å–ª–µ–¥–∏—Ç –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ DOM

3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–π—Ç–∏ –∫ checkout:**
   - –ï—Å–ª–∏ –∫–ª–∏–∫ ‚Üí –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º
   - –ï—Å–ª–∏ window.location ‚Üí –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è setter
   - –ï—Å–ª–∏ AJAX/Fetch ‚Üí –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º
   - –ï—Å–ª–∏ HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç ‚Üí –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –í—Å–µ —Å–ø–æ—Å–æ–±—ã ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ YouTube

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **MutationObserver:**
   - –°–ª–µ–¥–∏—Ç –∑–∞ –≤—Å–µ–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ DOM
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ checkout
   - –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (SPA, AJAX –∑–∞–≥—Ä—É–∑–∫–∞)

2. **–ü–æ–¥–Ω—è—Ç–∏–µ –ø–æ DOM –¥–µ—Ä–µ–≤—É:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ —Ç–æ–ª—å–∫–æ —Å–∞–º —ç–ª–µ–º–µ–Ω—Ç, –Ω–æ –∏ –≤—Å–µ—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π
   - –ù–∞—Ö–æ–¥–∏–º —Å—Å—ã–ª–∫–∏ –¥–∞–∂–µ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö
   - –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

3. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
   - href, action, data-url, data-checkout-url, onclick
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
   - –£—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã URL

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - MutationObserver –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ –±–æ–ª—å—à–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
   - –ù–æ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –†–µ–¥–∏—Ä–µ–∫—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±—ã—Å—Ç—Ä–æ

2. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
   - –†–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Shopify, WooCommerce, etc.)
   - –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ checkout

3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞
   - –ï—Å–ª–∏ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –¥—Ä—É–≥–æ–π
   - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞

## üìà –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ:

‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã** - –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
‚úÖ **–°–µ—Ä–≤–µ—Ä–Ω–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è** - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º HTML –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–ª–∏–µ–Ω—Ç—É
‚úÖ **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –ø–µ—Ä–µ—Ö–≤–∞—Ç** - –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å–ø–æ—Å–æ–±—ã –ø–µ—Ä–µ—Ö–æ–¥–∞
‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç** - MutationObserver –¥–ª—è AJAX –∑–∞–≥—Ä—É–∑–∫–∏
‚úÖ **–í—Å–µ —Å–ø–æ—Å–æ–±—ã –ø–µ—Ä–µ—Ö–æ–¥–∞** - –∫–ª–∏–∫–∏, —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã, AJAX, Fetch, —Å—Å—ã–ª–∫–∏

–ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ:
‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π checkout –¥–æ–º–µ–Ω Shopify
‚ùå –ù–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª–∏ HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
‚ùå –ù–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∏ HTML —Å—Å—ã–ª–∫–∏
‚ùå –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã —á–µ—Ä–µ–∑ window.location
‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ MutationObserver –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–¢–µ–ø–µ—Ä—å –º—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º checkout –Ω–∞ –í–°–ï–• —É—Ä–æ–≤–Ω—è—Ö –∏ –≤—Å–µ–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏!

